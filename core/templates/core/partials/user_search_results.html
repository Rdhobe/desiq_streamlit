<!-- User search results template -->
{% if users %}
    {% for user in users %}
        <div class="search-result-item" data-user-id="{{ user.id }}">
            <div class="user-avatar">{{ user.username|first|upper }}</div>
            <div class="user-info">
                <div class="user-name">{{ user.username }}</div>
                {% if user.email %}
                    <div class="user-email">{{ user.email }}</div>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% else %}
    <div class="search-result-item no-results">No users found</div>
{% endif %}

<style>
    .search-result-item {
        display: flex;
        align-items: center;
        padding: 10px;
        cursor: pointer;
        border-bottom: 1px solid #eee;
    }
    
    .search-result-item:hover {
        background-color: #f5f5f5;
    }
    
    .user-avatar {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #4a6cf7;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 10px;
    }
    
    .user-info {
        flex: 1;
    }
    
    .user-name {
        font-weight: 500;
    }
    
    .user-email {
        font-size: 12px;
        color: #666;
    }
    
    .no-results {
        color: #888;
        text-align: center;
        cursor: default;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add click handlers to search results
        const searchResults = document.querySelectorAll('.search-result-item:not(.no-results)');
        searchResults.forEach(item => {
            item.addEventListener('click', function() {
                const userId = this.dataset.userId;
                if (userId) {
                    window.location.href = `/direct_message/${userId}/`;
                }
            });
        });
    });
</script> 