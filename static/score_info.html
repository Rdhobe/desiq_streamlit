<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Score Calculation in DesiQ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        
        h1, h2, h3 {
            color: #1b309a;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }
        
        h2 {
            margin-top: 30px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        p {
            margin-bottom: 16px;
        }
        
        ul, ol {
            margin-bottom: 20px;
            padding-left: 25px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .score-card {
            background-color: white;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .formula {
            background-color: #f0f2f5;
            padding: 12px 15px;
            border-radius: 6px;
            font-family: monospace;
            margin: 20px 0;
        }
        
        .back-button {
            text-align: center;
            margin-top: 30px;
        }
        
        .back-button button {
            background-color: #1b309a;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .back-button button:hover {
            background-color: #152376;
        }
    </style>
</head>
<body>
    <h1>Score Calculation in DesiQ</h1>
    
    <p>This document explains how various scores and metrics are calculated in the DesiQ application.</p>
    
    <h2>User Scores</h2>
    
    <h3>Skill Scores</h3>
    
    <p>DesiQ tracks four main skill scores for each user:</p>
    
    <div class="score-card">
        <h3>1. Rationality Score (0-100)</h3>
        <p>Measures your ability to make logical, evidence-based decisions</p>
        <ul>
            <li>Increases when you choose scenario options that demonstrate good reasoning and critical thinking</li>
            <li>Decreases with choices that show illogical or irrational thinking</li>
            <li>Formula: Accumulation of rationality_points from each completed scenario option</li>
        </ul>
    </div>
    
    <div class="score-card">
        <h3>2. Decisiveness Score (0-100)</h3>
        <p>Evaluates your ability to make confident and timely decisions</p>
        <ul>
            <li>Increases with choices that show clear decision-making without unnecessary delay</li>
            <li>Decreases with indecisive or overly cautious choices when quick action is needed</li>
            <li>Formula: Accumulation of decisiveness_points from each completed scenario option</li>
        </ul>
    </div>
    
    <div class="score-card">
        <h3>3. Empathy Score (0-100)</h3>
        <p>Measures your ability to understand and consider others' perspectives</p>
        <ul>
            <li>Increases with choices that demonstrate care for others' feelings and needs</li>
            <li>Decreases with self-centered choices that ignore the impact on others</li>
            <li>Formula: Accumulation of empathy_points from each completed scenario option</li>
        </ul>
    </div>
    
    <div class="score-card">
        <h3>4. Clarity Score (0-100)</h3>
        <p>Assesses your ability to see the complete picture and understand context</p>
        <ul>
            <li>Increases with choices that show full comprehension of the situation</li>
            <li>Decreases with choices that miss key details or misinterpret information</li>
            <li>Formula: Accumulation of clarity_points from each completed scenario option</li>
        </ul>
    </div>
    
    <p>All scores are capped at 100 and cannot go below 0.</p>
    
    <h3>Level and XP System</h3>
    
    <div class="score-card">
        <h3>XP (Experience Points)</h3>
        <p>Gained by completing scenarios, daily challenges, and other activities</p>
        <ul>
            <li>Each scenario completion awards XP based on its difficulty (typically 10-30 XP)</li>
            <li>Daily challenges provide additional XP rewards</li>
            <li>Personality tests award 20 XP upon completion</li>
        </ul>
    </div>
    
    <div class="score-card">
        <h3>Level</h3>
        <p>Determined by your total XP</p>
        <div class="formula">Level = (XP ÷ 100) + 1</div>
        <ul>
            <li>Each level requires 100 XP</li>
            <li>Higher levels unlock new scenarios, personality tests, and features</li>
        </ul>
    </div>
    
    <div class="score-card">
        <h3>XP Progress</h3>
        <p>Shows your progress toward the next level</p>
        <div class="formula">Progress % = ((XP - (Level-1)*100) ÷ 100) × 100</div>
    </div>
    
    <h3>Streak System</h3>
    
    <div class="score-card">
        <h3>Daily Streak</h3>
        <p>The number of consecutive days you've engaged with the platform</p>
        <ul>
            <li>Increments by 1 for each consecutive day you log in</li>
            <li>Resets to 0 if you miss a day</li>
            <li>Tracked via the last_login_date field in your profile</li>
        </ul>
    </div>
    
    <h2>Scenario Scoring</h2>
    
    <p>When you complete a scenario by selecting an option:</p>
    
    <ol>
        <li>The option's skill points are added to your profile scores</li>
        <li>You receive the scenario's XP reward</li>
        <li>Your level is updated based on new total XP</li>
        <li>The scenario is marked as completed</li>
    </ol>
    
    <p>Each scenario option has the following point values:</p>
    <ul>
        <li>Rationality points (0-10)</li>
        <li>Decisiveness points (0-10)</li>
        <li>Empathy points (0-10)</li>
        <li>Clarity points (0-10)</li>
    </ul>
    
    <p>The total score for a scenario choice is the sum of these four values (max 40).</p>
    
    <h2>Activity Score (for Leaderboards)</h2>
    
    <p>Your activity score determines your ranking among other users:</p>
    
    <div class="formula">
        Activity Score = XP Points + (Daily Streak × 10) + (Scenarios Completed × 5) + <br>
                        (Comments × 2) + (Likes Received × 1) + (Posts × 3)
    </div>
    
    <p>Higher activity scores result in higher rankings on the leaderboard.</p>
    
    <div class="back-button">
        <button onclick="window.close()">Close Window</button>
    </div>
</body>
</html> 